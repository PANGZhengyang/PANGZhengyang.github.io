---
layout: post
title: "设备相关基础知识"
date: 2024-04-08
description: "设备相关基础知识"
tag: 风控
katex: true
---

设备是黑产作案的媒介，风控可以根据设备相关的数据进行策略布防。

# Root

Root是Unix、Linux系统（Android系统）中的超级用户，类似于Windows系统中的system用户。

Root具有系统中所有的权限，如启动或停止一个进程，删除或增加用户、增加或禁用硬件等。

## 手机获取root权限后好处

- 深度查杀病毒木马
- 清楚多余系统应用
- 隐私行为监控与管理
- 迎合软件功能
- 修改系统文件

## 手机获取root权限后坏处

- 病毒木马易入侵
- 影响手机稳定性

# Hook

Hook 技术又叫做钩子函数，在系统没有调用该函数之前，钩子程序就先捕获该消息，钩子函数先得到控制权，这时钩子函数既可以加工处理（改变）该函数的执行行为，还可以强制结束消息的传递。简单来说，就是把系统的程序拉出来变成我们自己执行代码片段。
  要实现钩子函数，有两个步骤：

    1. 利用系统内部提供的接口，通过实现该接口，然后注入进系统（特定场景下使用）
      2. 动态代理（使用所有场景）

## Xposed

Xposed 是 Android 平台下的一个著名hook框架，其原理是通过修改替换 /system/bin/app_process 程序控制 zygote 进程，使app_process 在启动过程中加载 xposedBrider.jar 包，从而完成对 zygote 进程以及其创建的虚拟机劫持。基于 xposed 框架可以制作出许多功能强大的模块，其在功能不冲突的情况下同时运作。
基于Xposed 框架，开发者可以非常方便地修改Android 操作系统的任意Java 代码，如自动抢红包、修改步数、消息防撤回、一键新机等。绝大部分改机工具都使用了Xposed框架，如微X 模块、QX 模块、幸运破解器、fakegps 等。

## Cydia Substrate

CydiaSubstrate（原名为MobileSubstrate）是一款iOS 操作系统常见的hook 框架，越狱时会同时安装该软件。基于CydiaSubstrate 框架的MobileHooker，开发者可以非常方便地替换iOS 操作系统的ObjectiveC/C/C++函数。几乎全部的改机工具都是通过CydiaSubstrate 实现的，使用量较多的有NZT、AWZ、iGrimace 等，iOS 操作系统的改机工具大部分都是要付费的。

## Frida

 Frida 也是一个很常用的 Hook 工具，只需要编写一段 Javascript 代码就能轻松地对指定的函数进行 Hook，而且它基本上可以算是全平台的(主流平台全覆盖)，除了 Android 以外，iOS 和 PC 端的APP也可以用它来进行Hook，非常方便。

# ROM与RAM

## ROM

ROM：read-only momory，只读存储器。以非破坏性读出方式工作，**只能读出无法写入信息**。信息一旦写入后就固定下来，即使切断电源，信息也不会丢失。ROM所存数据通常是装入整机前写入的，整机工作过程中只能读出。

ROM常用于存储各种固定程序和数据。

## RAM

RAM：random access memory，随机存取存储器。在断电时将丢失其存储内容，故主要用于存储短时间使用的程序。它支撑的是手机软件的运行，存放手机软件运行后进行的数据交换等工作。也就是，RAM决定了您的手机可以开多少后台程序，当然，RAM越大，手机的运行速度就越快。一旦手机关机，RAM中的数据就丢失，开机后也不会恢复。

## 手机ROM和RAM

在安卓手机中，ROM包含了安卓系统、手机软件、用户文件（照片、视频等）。而用户存储的文件只占据ROM空间，是不影响RAM空间的。其次，ROM空间的大小对系统运行速度的影响是微乎其微的；影响手机运行速度的最主要因素是RAM。
