---
layout: post
title: "不适合做ABTest的情况"
date: 2022-02-19
description: "ABTest实验组对照组独立性问题"
tag: 数据分析
katex: true
---

## ABTest 不适用的情况

- 用户数量太少，样本数量太少

  对于实验性的因果推断（ABTest），利用的是大量样本得出的结论；如果样本太少的话，会导致结果不具有参考性。

- 重大事件发生

  比如商家Logo变更这种重大事件，不会选择用ABtest来测，A类商标好，还是B类商标好。

- 没办法控制想要测试的变量

  ABTest其实是利用了控制变量法的实验性因果推断，如果我们无法控制要测试的变量是单一的，而不受其他变量的影响，那ABTest的结果也是不准的。举一个例子，想判断上北大对于工资的提升有多大帮助，那这个就不适用做ABTest，因为你不能让能上北大的学生不去上北大。

## 解决方法1 —— PSM

倾向评分匹配 (Propensity Score Matching) 是一种非实验性的因果推断。**利用历史数据，通过模型，人为地（而不是像实验那样随机）选出实验组和对照组，最后进行比较。**

直观地理解就是通过倾向性评分来构造实验组和对照组样本一一对应的关系，从而避免样本特征之见差异很大。

### 具体步骤

1. 首先，将两组样本的各项特征（比如用户的年龄、性别、地理位置、行为数据等）放入Logistic Regression中；
2. 然后，计算每个样本的倾向评分，再使用KNN的方法进行匹配；
3. 最后，比较匹配后的两组样本即可

## 解决方法2—— 用户调研



